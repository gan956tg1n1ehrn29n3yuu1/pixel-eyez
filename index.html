<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>PIXEL-EYEZ</title>
    <link rel="icon" type="image/png" href="/images/favicon.png" />
    <link rel="stylesheet" href="/style.css" />
  </head>

  <body>
    <div class="container">
      <header class="flex">
        <h1>Pixel-eyez</h1>
        <img src="/images/icon2.png" class="icon" />
      </header>

      <form>
        <div class="pixel-controls flex group">
          <label for="pixel-size-input">
            Pixel size
          </label>

          <input disabled type="range" list="pixel-steps" value="15" id="pixel-size-input" min="1" max="30" step="1" />

          <datalist id="pixel-steps">
            <option value="1" label="1px">
            <option value="2">
            <option value="3">
            <option value="4">
            <option value="5" label="5px">
            <option value="6">
            <option value="7">
            <option value="8">
            <option value="9">
            <option value="10" label="10px">
            <option value="11">
            <option value="12">
            <option value="12">
            <option value="13">
            <option value="14">
            <option value="15" label="15px">
            <option value="16">
            <option value="17">
            <option value="18">
            <option value="19">
            <option value="20" label="20px">
            <option value="21">
            <option value="22">
            <option value="23">
            <option value="24">
            <option value="25" label="25px">
            <option value="26">
            <option value="27">
            <option value="28">
            <option value="29">
            <option value="30" label="30px">
          </datalist>

          <div class="pseudo-pixel inline-flex">
            <div id="pseudo-pixel-size">15px</div>
            <div id="pseudo-pixel" style="width: 15px; height: 15px;"></div>
          </div>
        </div>

        <div class="actions flex group">
          <div class="inline-flex">
            <label class="btn" for="image-input">
              Choose image
              <input type="file" accept="image/*" id="image-input" />
            </label>

            <button class="btn primary hidden" type="button" id="generate-pxon">
              Generate PXON
            </button>
          </div>

          <div class="inline-flex">
            <button class="btn primary hidden" type="button" id="copy-pxon">
              Copy PXON ‹›
            </button>

            <a class="btn primary hidden" type="button" id="download-pxon">
              Download PXON ↓
            </a>
          </div>
        </div>
      </form>
    </div>

    <div class="image-container">
      <svg>
        <filter id="pixel-filter" x="0" y="0">
          <feFlood x="6" y="6" height="3" width="3"/>

          <feComposite width="15" height="15"/>

          <feTile result="a"/>

          <feComposite in="SourceGraphic" in2="a"
                       operator="in"/>

          <feMorphology operator="dilate"
                        radius="7.5"/>
        </filter>

        <image id="preview-image" width="100%" height="100%"
               preserveAspectRatio="xMidYMid slice"
               filter="url(#pixel-filter)"
               xlink:href="" />
      </svg>
    </div>

    <div class="container">
      <h2>What is this?</h2>

      <p>
        This is a tool for generating <a href="http://jennmoney.biz/pxon/">PXON</a>.
        Select an image, "pixelize" it, then download or copy the generated PXON.
        Made by
        <a href="https://taravancil.com" data-dat="dat://taravancil.com">
        Tara Vancil</a>.
      </p>

      <p>
        <a href="https://github.com/taravancil/pixel-eyez" data-dat="beaker://library/dat://pixel-eyez-taravancil.hashbase.io">
        View the source</a>
      </p>

      <h3>WTF is PXON?</h3>
        <p>
          <a href="http://jennmoney.biz/pxon/">PXON</a> is a way to represent
          pixels with <a href="http://json.org/">JSON</a> made by
          <a href="http://jennmoney.biz">Jenn Schiffer</a>.
        </p>

        <p>
          Generate some PXON, then import it to an app that supports PXON,
          like <a href="https://make8bitart.com/">make8bitart.com</a>!
        </p>
      </div>
    </div>

    <script src="/index.js"></script>
    <script src="/dat-links.js"></script>
  </body>
</html>